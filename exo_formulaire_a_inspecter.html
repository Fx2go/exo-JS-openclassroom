<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
     <head>
          <title>Formulaire à inspecter</title>
          <!--ma réponse au TD de cette page : https://openclassrooms.com/courses/tout-sur-le-javascript/td-verification-d-un-formulaire-->
          <meta http-equiv="Content-Type" content="text/html; charset=utf8" />

          <script type="text/javascript">
          <!--
          	// fonction pour colorer les champs qui posent problème
			function surligne(champ, erreur)
			{
			   if(erreur)
			      champ.style.backgroundColor = "#fba";
			   else
			      champ.style.backgroundColor = "";
			}

			function verifPseudo(champ) //fonction pour vérifier la longueur du pseudo (entre 2 et 25 caractères)
			{			
				var saisie=champ.value;
				var ValeurOK =(saisie.length>=2&&saisie.length<=25)?true:false;

				surligne(champ, !ValeurOK);
				return ValeurOK;


			}

			function verifEmail(champ)//fonction pour vérifier l'adresse e-mail (en utilisant de préférence une regex)
			{
				var saisie=champ.value;

				var ValeurOK =(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(saisie))?true:false;

				surligne(champ, !ValeurOK);
				return ValeurOK;

			}

			function verifAge(champ)//fonction pour vérifier l'âge (on va dire qu'il doit être compris entre 5 et 111 ans)
			{
				var saisie=champ.value;
				var ValeurOK =(saisie>=5&&saisie<=111)?true:false;

				surligne(champ, !ValeurOK);
				return ValeurOK;
			}

			function verifTOUT(champ)//fonction qui vérifie tout (à partir des précédentes)
			{
				var formOK;
				var pseudoOK= champ.pseudo;
				alert('pseudoOK=='+pseudoOK);
				// if(!verifPseudo(champ.['pseudo'])||!verifEmail(champ.['email'])||!verifAge(champ.['age']))
				// {
				// 	alert('Merci de renseigner correctement les champs en rouge');
				// }
			}


          -->
          </script>


     </head>
     <body>
		<form action="#" id="idForm">
		  <p>
		    Pseudo : <input type="text" name="pseudo" onblur="verifPseudo(this);" /><br />
		    E-mail : <input type="text" name="email" size="30" onblur="verifEmail(this)" /><br />
		    Âge : <input type="text" name="age" size="2" onblur="verifAge(this)"/> ans<br />
		    <input type="submit" value="Valider" onclick="verifTOUT(this)" />
		  </p>
		</form>

     </body>
</html>